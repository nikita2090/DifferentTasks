<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>1_fibMemo</title>
</head>
<body>
<!--
Реализуйте функцию fib2(). Она похожа на функцию fib()
из предыдущей группы заданий, но поддерживает числа вплоть до 50.
Подсказка: используйте мемоизацию.
-->

<script>
    /*1*/
    const memo = {};

    function fibonacci(n) {
        if (memo[n]) return memo[n];

        let result;
        if (n < 2) {
            result = n;
        } else {
            result = fibonacci(n - 1) + fibonacci(n - 2);
        }
        memo[n] = result;

        return result;
    }

    console.log(fibonacci(50));

    /*2*/
    function memoize(fn) {
        let cache = {};
        return (n) => {
            if (n in cache) {
                return cache[n];
            } else {
                let result = fn(n);
                cache[n] = result;
                return result;
            }
        }
    }

    let fib2 = memoize((n) => {
        if (n < 2) {
            return n;
        }
        return fib2(n - 1) + fib2(n - 2)
    });

    console.log(fib2(50));
</script>
</body>
</html>